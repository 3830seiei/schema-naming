metadata:
  description: テーブル定義書
  author: H.Miyazawa
  history:
  - version: 1.0.0
    date: '2025-06-27'
    author: H.Miyazawa
    comment: OptiServe用のデータベース設計
table_name: equipment_usage_flags
old_table_name: equipment_usage_flags
description: 医療機器の分析使用フラグ管理テーブル
columns:
- name: medical_facility_id
  old_name: medical_facility_id
  description: 医療機関ID
  data_type: integer
  primary_key: true
  nullable: false
  comment: null
  references:
    table: mst_medical_facility
    column: medical_id
    enforced: false
    on_delete: restrict
    on_update: restrict
    comment: mst_medical_facilityテーブルのmedical_idを参照。医療機関ID。
- name: medical_device_id
  old_name: medical_device_id
  description: 医療機器ID
  data_type: integer
  primary_key: true
  nullable: false
  comment: null
  references:
    table: medical_entity_list
    column: equipment_id
    enforced: false
    on_delete: restrict
    on_update: restrict
    comment: medical_entity_listテーブルのequipment_idを参照。医療機器ID。
- name: is_active
  old_name: is_active
  description: 使用中フラグ
  data_type: boolean
  primary_key: false
  nullable: false
  comment: 医療機器を集計対象として有効化を示すフラグ。Trueの場合は使用中、Falseの場合は使用中ではない。
- name: created_at
  old_name: created_at
  description: データ作成日
  data_type: timestamp
  primary_key: false
  nullable: false
  comment: null
- name: updated_at
  old_name: updated_at
  description: 最終更新日
  data_type: timestamp
  primary_key: false
  nullable: false
  comment: null
table: medical_device_usage_flags
x_legacy:
  poc:
    source_file: equipment_usage_flags.yaml
    table: equipment_usage_flags
    columns:
      medical_id: medical_facility_id
      equipment_id: medical_device_id
      regdate: created_at
      lastupdate: updated_at
